@use '../Library/_colours.scss';

@mixin action-button(
	$color: _colours.theme-color('foreground', 'base'),
	$position: left
) {
	position: absolute;
	#{$position}: 0;
	top: 50%;
	display: flex;
	justify-content: center;
	align-items: center;
	height: 100%;
	width: 5em;
	transform: translate(0%, -50%);
	transition: 0.3s linear;
	@include _colours.corner-radius;
	@if ($position == left) {
		border-bottom-left-radius: 0;
		border-top-right-radius: 0;
	}
	@if ($position == right) {
		border-bottom-right-radius: 0;
		border-top-left-radius: 0;
	}
	&:hover {
		// color: #fff;
		background-color: $color;
	}
}
.modal {
	position: absolute;
	z-index: 5;
	top: 0;
	right: 0;
	left: 0;
	bottom: 0;
	background-color: _colours.theme-color('foreground', 'base', 0.5);
	visibility: hidden;
	visibility: hidden;
	opacity: 0;
	transition: visibility 0s, opacity 0.3s ease-in-out;
	transition-duration: 0.3s;
	&.--is-active{
		visibility: visible;
		opacity: 1;
	}
	&__card {
		padding: 0.2em;
		margin-top: 8vh;
		margin-left: 2vh;
		margin-right: 2vh;
		margin-bottom: 8vh;
		position: relative;
		display: flex;
		flex-direction: column;
		align-items: stretch;
		min-height: 84vh;
		height: auto;
		@include _colours.corner-radius;
		border-style: solid;
		border-width: 1px;
		border-color: _colours.theme-color('foreground', 'base', 0.5);
		background-color: _colours.theme-color('background', 'base');
		color: _colours.theme-color('primary', 'base');
		box-shadow: 0px -1px 15px 0px _colours.theme-color('foreground', 'base',0.2);
		transition-duration: 0.1s;
		transition-timing-function: ease-in-out;
		&.--is-dark {
			color: _colours.theme-color('primary', 'dark');
			background-color: _colours.theme-color('background', 'dark');
			box-shadow: 0px -1px 15px 0px _colours.theme-color('foreground', 'dark');

			.modal__card-head{
				>.--has-accent{
					color: _colours.theme-color('accent', 'dark');
				}
			}
		}
		&-head {
			text-align: center;
			position: relative;
			min-height: 3em;
			border-bottom: 1px solid
				_colours.theme-color('foreground', 'base', 0.5);
			&.--has-accent{
				color: _colours.theme-color('accent', 'base');
			}
		}
		&-close {
			@include action-button(
				_colours.theme-color('secondary', 'base'),
				right
			);
			cursor: pointer;
		}
		&-save {
			@include action-button(
				_colours.theme-color('foreground', 'base', 0.2),
				left
			);
			cursor: pointer;
		}
		&-body {
			padding: 0.2em;
		}
		&-foot {
			margin-top: auto;
			padding: 1em;
		}
	}
}
